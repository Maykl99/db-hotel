    Query:

    1. Seleziona tutti gli ospiti che sono stati identificati con la carta di identità.

    SELECT *                         
    FROM `ospiti` 
    WHERE `document_type`= 'CI';

    SELECT * 
    FROM `ospiti`   
    WHERE `document_type` LIKE 'CI';

    SELECT *                                        //-> Operatore di disuguaglianza in questo caso può funzionare dato che esistono solo due tipi di valori;
    FROM `ospiti` 
    WHERE `document_type` <> 'Driver License';


    2. Seleziona tutti gli ospiti che sono nati dopo il 1988

    SELECT * 
    FROM `ospiti` 
    WHERE `date_of_birth`>'1988';

    SELECT * 
    FROM `ospiti` 
    WHERE 
    DATE(`date_of_birth`) > '1988';

    SELECT * 
    FROM `ospiti` 
    WHERE 
    YEAR(`date_of_birth`) > '1988';


    3. Seleziona tutti gli ospiti che hanno più di 20 anni

    SELECT * 
    FROM `ospiti`
    WHERE `date_of_birth` < '2000';              //-> calcolo approssimativo;

    SELECT * 
    FROM `ospiti` 
    WHERE 
    TIMESTAMPDIFF ( YEAR , `date_of_birth` , CURDATE()) > '20';

    SELECT `date_of_birth` 
    FROM `ospiti` 
    WHERE 
    TIMESTAMPDIFF ( YEAR , `date_of_birth` , CURDATE()) > '20';

    SELECT *
    FROM `ospiti`
    WHERE `date_of_birth` <= DATE_SUB(CURDATE(),INTERVAL 21 YEAR);  //-> precisione massima;



    4. Seleziona tutti gli ospiti il cui nome inizia con la D

    SELECT * 
    FROM `ospiti` 
    WHERE `name` 
    LIKE 'd%'


    5.Calcolare il totale degli ospiti paganti

    SELECT COUNT(*)     // oppure id;
    AS 'pagamenti_totali'
    FROM `paganti`
    WHERE `ospite_id` IS NOT NULL;

    SELECT COUNT(ospite_id)     // oppure id;
    AS 'pagamenti_totali'
    FROM `paganti`;

    6.Qual è il prezzo massimo pagato?

    SELECT MAX(`price`) 
    FROM `pagamenti`;
    
    SELECT MAX(`price`) 
    AS 'max_price'
    FROM `pagamenti` 
    WHERE `status` = 'accepted';


    7.Seleziona gli ospiti riconosciuti con patente e nati nel 1975

    SELECT * 
    FROM `ospiti` 
    WHERE `document_type` = 'Driver License' 
    AND YEAR(`date_of_birth`) = '1975';
    
    8. Quanti posti letto ha l’hotel in totale?

    SELECT SUM(`beds`) FROM `stanze`;


     ========== SECONDA PARTE REPO  =================================================
    

    1. Conta gli ospiti raggruppandoli per anno di nascita

    SELECT * FROM `ospiti` ORDER BY `date_of_birth`

    2. Somma i prezzi dei pagamenti raggruppandoli per status

    SELECT SUM(`price`) , `status` FROM `pagamenti` GROUP BY `status`

    3. Conta quante volte è stata prenotata ogni stanza

    SELECT COUNT(`stanza_id`) FROM `prenotazioni` GROUP BY `stanza_id`

    4.  Stampare tutti gli ospiti per ogni prenotazione

    SELECT ospiti.name, ospiti.lastname         ! da rivedere
    FROM `ospiti`
    INNER JOIN `prenotazioni_has_ospiti`
    ON ospiti.id = prenotazioni_has_ospiti.ospite_id 


    5. Stampare Nome, Cognome, Prezzo e Pagante per tutte le prenotazioni fatte a Maggio 2018

    SELECT ospiti.name, ospiti.lastname, prenotazioni.created_at, pagamenti.price, paganti.name, paganti.lastname
    FROM `prenotazioni_has_ospiti`
    INNER JOIN `ospiti`
    ON ospiti.id = prenotazioni_has_ospiti.ospite_id
    INNER JOIN `prenotazioni`
    ON prenotazioni.id = prenotazioni_has_ospiti.prenotazione_id
    INNER JOIN `pagamenti`
    ON pagamenti.prenotazione_id = prenotazioni.id
    INNER JOIN `paganti`
    ON paganti.id = pagamenti.pagante_id 
    WHERE MONTH(prenotazioni.created_at) = 5 AND YEAR(prenotazioni.created_at) = '2018';

    6. Fai la somma di tutti i prezzi delle prenotazioni per le stanze del primo piano

    SELECT SUM(`price`) , stanze.floor
    FROM `pagamenti`
    INNER JOIN `prenotazioni` 
    ON prenotazioni.id = pagamenti.prenotazione_id
    INNER JOIN `stanze`
    ON stanze.id = prenotazioni.stanza_id WHERE stanze.floor = '1';

    7. Prendi i dati di fatturazione per la prenotazione con id=7

    SELECT * 
    FROM `pagamenti` 
    INNER JOIN `paganti`
    ON paganti.id = pagamenti.pagante_id
    INNER JOIN `prenotazioni`
    ON prenotazioni.id = pagamenti.prenotazione_id
    WHERE prenotazioni.id = '7';
